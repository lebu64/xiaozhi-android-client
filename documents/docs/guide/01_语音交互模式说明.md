# Voice Interaction Mode Instructions

## Project Overview

Android-xiaozhi is an intelligent voice interaction assistant, developed based on Flutter, optimized specifically for the Android platform. It supports multiple operation modes and functions, including voice conversations, text chats, and rich AI interaction capabilities. This document mainly introduces the basic usage methods of voice interaction.

## Voice Interaction Modes

Voice interaction supports two modes, you can choose the appropriate interaction method according to your actual needs:

### 1. Hold-to-Talk Mode

- **Operation Method**: Hold the talk button, release to send
- **Applicable Scenarios**: Short sentence communication, precise control of conversation start and end time
- **Advantages**: Avoid accidental triggering, precise control
- **Cancellation Method**: Swipe up while holding to cancel sending
- **Vibration Feedback**: Provides haptic feedback to confirm the operation has been recognized

### 2. Automatic Conversation Mode

- **Operation Method**: Click to start conversation, system automatically detects voice and sends
- **Applicable Scenarios**: Long sentence communication, no manual control required
- **Advantages**: Hands-free, natural communication
- **Interface Prompt**: Displays "Listening" to indicate the system is receiving your voice
- **Waveform Animation**: Real-time waveform animation based on sound intensity, providing intuitive feedback

### Mode Switching

- Current mode is displayed in the bottom right corner of the interface
- Click the button to switch modes
- Default mode can be set through the settings menu

## Conversation Control

### Interruption Function

When the system is replying with voice, you can interrupt at any time:
- Use the interruption button on the interface

### State Flow

The voice interaction system has the following states:

```
                        +----------------+
                        |                |
                        v                |
+------+    Button    +------------+   |   +------------+
| IDLE | -----------> | CONNECTING | --+-> | LISTENING  |
+------+              +------------+       +------------+
   ^                                            |
   |                                            | Voice recognition completed
   |          +------------+                    v
   +--------- |  SPEAKING  | <-----------------+
     Playback completed +------------+
```

- **IDLE**: Idle state, waiting for button trigger
- **CONNECTING**: Connecting to server
- **LISTENING**: Listening to user voice
- **SPEAKING**: System is replying with voice

## System Features

### Acoustic Optimization
- **Echo Cancellation (AEC)**: Built-in acoustic echo cancellation technology to avoid speaker output interfering with microphone input
- **Noise Reduction (NS)**: Real-time noise reduction, filtering environmental noise, improving voice recognition accuracy
- **High Refresh Rate Support**: Automatically detects and adapts to high refresh rate screens, providing smooth interface experience

### Performance Optimization
- Low power recording mode, extends battery usage time
- Intelligent voice compression, saves data traffic
- Background preloading of resources, reduces waiting time

## Getting Help

If you encounter problems:

1. First check GitHub Issues to see if similar problems have been resolved
2. Submit issues through GitHub Issues
3. Contact the author
